<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <script src="main.js"></script>
    -->
</head>
<body>
    
</body>
<script>
const ROUNDS = 5;

function computerPlay() {
    play = Math.random() * 3;
    switch (true) {
        case play < 1: return "rock";
        case play >= 2: return "scissors";
        default: return "paper";
    }
}

function playRound(playerSelection, computerSelection) {
    if (playerSelection == null) {
        return 3;
    }
    switch (true) {
        case playerSelection == computerSelection:
            return "2It's a draw!";
        case playerSelection == "rock" && computerSelection == "scissors":
            return "1Rock beats scissors! You win!";
        case playerSelection == "rock" && computerSelection == "paper":
            return "0Paper beats rock! You lose!";
        case playerSelection == "paper" && computerSelection == "rock":
            return "1Paper beats rock! You win!";
        case playerSelection == "paper" && computerSelection == "scissors":
            return "0Scissors beats paper! You lose!";  
        case playerSelection == "scissors" && computerSelection == "paper":
            return "1Scissors beats paper! You win!";
        case playerSelection == "scissors" && computerSelection == "rock":
            return "0Rock beats scissors! You lose!";  
    }
}

function playerSelection() {
    let ps = prompt("Make a choice!");
    if (ps == null) {
        console.log("You chose nothing...");
        return;
    }
    ps = ps.toLowerCase();
    if (ps !== "rock" && ps !== "scissors" && ps !== "paper") {
        console.log("That's not a valid choice!");
        playerSelection();
    } 
    return ps;
}

function game() {
    let playerScore = 0;
    let computerScore = 0;
    while (playerScore < ROUNDS && computerScore < ROUNDS) {
        gameOutcome = playRound(playerSelection(), computerPlay());
        if (gameOutcome == 3) {
            break;
        }
        if (gameOutcome.charAt(0) == 1) {
            playerScore++;
            console.log(gameOutcome.slice(1));
        } else if (gameOutcome.charAt(0) == 0) {
            computerScore++;
            console.log(gameOutcome.slice(1));
        } else {
            console.log(gameOutcome.slice(1));
        }
        console.log("Current score: \nPlayer: " + playerScore + "\nComputer: " + computerScore);
    }
    (playerScore == 5) ? console.log("Congrats on winning!") : console.log("You lost!");
}

</script>
</html>
